<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Classwork</title>

    <script>
        /*
          Задание:
            1. Используя интерфейс который есть на страничке, написать визуальный
            конструктор обектов используя значение key-value, которые вводятся в
            соответствующие поля в форме.

            2. Каждый созданый обьект выводить в тег code после добавления каждого
            нового поля. Т.е мы должны визуально видить в каком состоянии наши обьекты
            сейчас

            3. По нажатию кнопки Combine Objects! два обьекта должны обьедениться
            используя метод Object.assing или spread operator и вывестись на стринчку.

            * Изменять HTML можно.

        */
    </script>
</head>
<body>
<div class="wrap">
    <div class="assigned">
        <form class="ObjForm">
            <input name="key" placeholder="Enter your key"/>
            <input name="value" placeholder="Enter your value"/>
            <button type="submit" id="_SendBtn1">Send</button>
        </form>
        <div class="createResult">
            <header>
                Created Object
            </header>
            <div class="createdObj">
                <code>
                    {

                    }
                </code>
            </div>
        </div>
    </div>


    <div class="assigned">
        <form class="ObjForm">
            <input name="key" placeholder="Enter your key"/>
            <input name="value" placeholder="Enter your value"/>
            <button type="submit" id="_SendBtn2">Send</button>
        </form>
        <div class="createResult">
            <header>
                Created Object
            </header>
            <div class="createdObj">
                <code>
                    {

                    }
                </code>
            </div>
        </div>
    </div>
</div>
<div class="resultBlock">
    <button id="CombineBtn">Combine Objects!</button>
    <h3> Result: </h3>
    <div id="result"></div>
</div>

<script>

</script>
<style>
    .wrap {
        width: 800px;
    }

    .ObjForm,
    .resultBlock {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        box-sizing: border-box;
        padding: 10px 20px;
    }

    .assigned {
        width: 300px;
        display: flex;
    }

    .createResult header {
        font-weight: 700;
    }
</style>

<script>

    let CombineBtn = document.getElementById('CombineBtn');
    let SendBtn1 = document.getElementById('_SendBtn1');
    let SendBtn2 = document.getElementById('_SendBtn2');
    let result = document.getElementById('result');

    const firstObj = {};
    const secondObj = {};
    let combinedObj = {};

    function SendValueFunc(event, Obj) {
        Obj[event[0].value] = event[1].value;
        event.parentElement.getElementsByClassName('createdObj')[0].innerText = JSON.stringify(Obj);
        event[0].value = '';
        event[1].value = '';
    }

    function CombineFunc() {
        combinedObj = {
            ...firstObj,
            ...secondObj
        };

        result.innerText = JSON.stringify(combinedObj);
    }

    CombineBtn.addEventListener('click', CombineFunc);


    SendBtn1.addEventListener('click', function (event) {
            event.preventDefault();
            SendValueFunc(event.target.parentElement, firstObj)
        });

    SendBtn2.addEventListener('click', function (event) {
            event.preventDefault();
            SendValueFunc(event.target.parentElement, secondObj)
        });

</script>
</body>
</html>
